---
author: "Matthew Arsenault and Kelvin Bacelli"
title: "Your descriptive title"
date: "2025-10-08"
output:
  pdf_document:
    number_sections: true
---
```{r echo=FALSE, include=FALSE, message=FALSE}
# all library load statements here
library(caret)
library(knitr)
r.version <- "4.3.2"
seed.val <- 123456
```

Note: Brief intro and your main question go in this space. You may edit the headings and outline as fits your analysis. 

# Data Description and Processing

The dataset we used was compiled by the used auto industry and contains information related to the sale of pre-owned vehicles. The data provide insights into various attributes of used cars that may influence their selling price.

This dataset contains several types of observations describing vehicle characteristics and ownership details for a range of car listings.

Outcomes:\
selling_price: Selling price of the vehicle (in U.S. dollars). \\
Vehicle Attributes:\
km_driven: Total distance the car has been driven (in kilometers).\
mileage: Fuel efficiency of the vehicle (in miles per gallon).\
engine: Engine capacity (in cubic centimeters).\
max_power: Maximum power output of the vehicle (in brake horsepower).\
seats: Number of seats available in the car. \
transmission: Type of transmission, either manual or automatic.\
Ownership:\
seller_type: Indicates whether the seller is an individual or a dealer.\
owner: Level of ownership - First Owner, Second Owner, Third Owner, or Fourth & Above Owner. \

The dataset was examined for missing values. Of the original 3,425 rows, 111 contained one or more missing entries. These 111 rows were removed, leaving a total of 3,314 complete observations for analysis.

```{r echo=FALSE, include=FALSE}
data.df <- read.csv("dataset3.csv")
data.df <- na.omit(data.df)
data.df$transmission <- factor(data.df$transmission)
data.df$owner <- factor(data.df$owner)
data.df$seller_type <- factor(data.df$seller_type)
```
# Data Exploration

The dataset contains observations on used cars with varying numbers of previous owners. Since vehicle ownership history is likely to influence selling price, we compare the number of vehicles across ownership levels. The distribution shows that most cars are first-owner vehicles(~66%), with progressively fewer cars in each subsequent ownership category.

```{r echo=FALSE}
label = c("First Owner","Second Owner", "Third Owner","Fourth & Above Owner")
count = c("2204","801","233","76")
owner.tbl <- cbind(label,count)
kable(owner.tbl, caption = "Owner Comparison")
```

We also explored the distribution of our outcome variable, selling price, to understand the overall spread of car values in the dataset. The distribution is heavily right-skewed, indicating that while most vehicles sell for relatively low prices, a small number of cars have very high selling prices.

```{r echo=FALSE, out.width="60%", out.height="40%", fig.align = 'center', fig.cap="Selling Price (US dollars)."}
hist(data.df$selling_price, freq = FALSE, main = "", xlab = "Value",ylab = "Density")

lines(density(data.df$selling_price),col = "red",lwd=2)
```


```{r echo=FALSE}
# table of descriptive stats for the overall life expectancy
Statistics <- c("Min", "Mean","Median","StdDev","Max")
mn<-min(data.df$selling_price)
mx<-max(data.df$selling_price)
avg<-round(mean(data.df$selling_price), 2)
md<-median(data.df$selling_price)
std<-round(sd(data.df$selling_price), 2)
Value <- c(mn,avg,md,std,mx)
st.tbl <- cbind(Statistics, Value)
kable(st.tbl, caption="Overall Selling Price Descriptive Stats")
```

Due to the fact that the original selling price variable was highly right-skewed, we applied the natural logarithm to the graph in order to make the distribution more symmetric. This helps stabilize the variance and makes the data more suitable for statistical modeling techniques (which assume approximately normal residuals). Because the natural log scale is exponential, each one-unit increase in log(selling price) corresponds to roughly a 2.7x increase in the actual selling price, meaning values from 10 to 11 represent about a 2.7 times increase, and from 11 to 12 another 2.7 times increase.

```{r echo=FALSE, out.width="60%", out.height="40%", fig.align = 'center', fig.cap="Selling Price (US dollars)."}

hist(log(data.df$selling_price), freq = FALSE, main = "", xlab = "Log(Selling Price)",ylab = "Density")

lines(density(log(data.df$selling_price)),col = "red",lwd=2)


```

We created a boxplot of the log-transformed selling price across the four ownership categories to explore how the number of previous owners affects vehicle value. As shown in the plot, as the ownership level increases, the mean selling price decreases, indicating that vehicles with more previous owners tend to have lower market values.

```{r echo=FALSE, out.width="60%", out.height="40%", fig.align = 'center', fig.cap="Selling Price by Ownership Level."}
data.df$owner <- trimws(data.df$owner)  # remove any stray spaces

data.df$owner <- factor(data.df$owner,levels = c("First Owner", "Second Owner", "Third Owner", "Fourth & Above Owner"))

par(mar = c(8,4,4,2))
boxplot(log(selling_price)~owner,data = data.df,main="",ylab = "Log(Selling Price)", xlab = "Level of Ownership", las=1,cex.axis=0.8)

```
```{r echo=FALSE}
# table of descriptive stats for the overall life expectancy
statistics <- c("Min", "Mean","Median","StdDev","Max")
#developed
data1<-first.df$selling_price
mn1<-min(data1)
mx1<-max(data1)
avg1<-round(mean(data1), 2)
md1<-median(data1)
std1<-round(sd(data1), 2)
first <- c(mn1,avg1,md1,std1,mx1)
#developing
data2<-second.df$selling_price
mn2<-min(data2)
mx2<-max(data2)
avg2<-round(mean(data2), 2)
md2<-median(data2)
std2<-round(sd(data2), 2)
second <- c(mn2,avg2,md2,std2,mx2)

data3<-third.df$selling_price
mn3<-min(data3)
mx3<-max(data3)
avg3<-round(mean(data3), 2)
md3<-median(data3)
std3<-round(sd(data3), 2)
third <- c(mn3,avg3,md3,std3,mx3)

data4<-fourth.df$selling_price
mn4<-min(data4)
mx4<-max(data4)
avg4<-round(mean(data4), 2)
md4<-median(data4)
std4<-round(sd(data4), 2)
fourth <- c(mn4,avg4,md4,std4,mx4)

tble.df<- data.frame(statistic, first, second, third, fourth)
kable(tble.df, caption="Selling Price per Status Descriptive Stats")

```

A one-way ANOVA was conducted to test whether mean log(selling_price) differed across ownership levels. The results were highly significant, meaning at least one group differed from the others. A Tukey post-hoc test revealed that all pairwise comparisons between ownership levels were statistically significant (p<0.001), further reinforcing the trend that car value decreases as the number of previous owners increases.

```{r echo=FALSE, include=FALSE}
anova_result <- aov(log(selling_price)~owner,data = data.df)
TukeyHSD(anova_result)
```
# Modeling 

The variable selling_price represents the outcome of interest - the market value (US Dollars) of a used vehicle. Predictor variables such as year and km_driven reflect the vehicle's age and usage, while fuel, seller_type, and transmission describe its technical and commercial characteristics. The variable owner captures ownership history, which may indicate how well the car was maintained. Together, these predictors represent both physical wear and market perception factors that could affect resale value. Exploring their relationship with selling price can reveal which characteristics most strongly determine how much a vehicle sells for.

## Hypothesis


## Model 1:


## Model 2: 


# Predicting with Models 1 and 2


# Summary and Conclusions

